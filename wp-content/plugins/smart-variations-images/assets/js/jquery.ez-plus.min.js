
if(typeof Object.create!=="function"){Object.create=function(b){function a(){}a.prototype=b;return new a()}}(function(c,b,a,d){var e={init:function(h,i){var g=this;var k;g.elem=i;g.$elem=c(i);g.options=c.extend({},c.fn.ezPlus.options,g.responsiveConfig(h||{}));g.imageSrc=g.$elem.data(g.options.attrImageZoomSrc)?g.$elem.data(g.options.attrImageZoomSrc):g.$elem.attr("src");if(!g.options.enabled){return}if(g.options.tint){g.options.lensColour="none";g.options.lensOpacity="1"}if(g.options.sviZoomType==="inner"){g.options.showLens=false}if(g.options.sviZoomId===-1){g.options.sviZoomId=j()}g.$elem.parent().removeAttr("title").removeAttr("alt");g.sviZoomImage=g.imageSrc;g.refresh(1);if(g.options.loadingIcon&&!g.spinner){c("div#woosvi_strap div#svi_mainslider .swiper-slide.swiper-slide-active img,div#woosvimain img").fadeTo("fast",0.5);g.nzWidth=g.$elem.width();g.nzHeight=g.$elem.height();var f="height:"+g.nzHeight+"px;width:"+g.nzWidth+"px;z-index: 2000;position: absolute; ";f+="top: 0px;";g.spinner=c('<div class="ezp-spinner" style="'+f+'"><div class="sviLoader"></div></div>');g.$elem.after(g.spinner)}else{if(g.spinner){g.spinner.show()}}k=c(g.options.gallery?("#"+g.options.gallery):g.options.gallerySelector);k.on("click.sviZoom",g.options.galleryItem,function(l){if(g.options.galleryActiveClass){c(g.options.galleryItem,k).removeClass(g.options.galleryActiveClass);c(this).addClass(g.options.galleryActiveClass)}if(this.tagName==="A"){l.preventDefault()}if(c(this).data(g.options.attrImageZoomSrc)){g.sviZoomImagePre=c(this).data(g.options.attrImageZoomSrc)}else{g.sviZoomImagePre=c(this).data("image")}g.swaptheimage(c(this).data("image"),g.sviZoomImagePre);if(this.tagName==="A"){return false}});function j(){var m=new Date().getTime();var l="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var n=(m+Math.random()*16)%16|0;m=Math.floor(m/16);return(o=="x"?n:(n&3|8)).toString(16)});return l}},refresh:function(g){var f=this;setTimeout(function(){f.fetch(f.imageSrc,f.$elem,f.options.minZoomLevel)},g||f.options.refresh)},fetch:function(i,g,j){var f=this;var h=new Image();h.onload=function(){if(h.width/g.width()<=j){f.largeWidth=g.width()*j}else{f.largeWidth=h.width}if(h.height/g.height()<=j){f.largeHeight=g.height()*j}else{f.largeHeight=h.height}f.startZoom();f.currentImage=f.imageSrc;f.options.onZoomedImageLoaded(f.$elem);if(f.options.loadingIcon&&!!f.spinner&&!!f.spinner.length){f.spinner.hide();c("div#woosvi_strap div#svi_mainslider .swiper-slide.swiper-slide-active img,div#woosvimain img").fadeTo("fast",1)}};f.setImageSource(h,i);return},setImageSource:function(f,g){f.src=g},startZoom:function(){var h=this;h.nzWidth=h.$elem.width();h.nzHeight=h.$elem.height();h.isWindowActive=false;h.isLensActive=false;h.isTintActive=false;h.overWindow=false;if(h.options.imageCrossfade){h.sviZoomWrap=h.$elem.wrap('<div style="height:'+h.nzHeight+"px;width:"+h.nzWidth+'px;" class="sviZoomWrapper" />');h.$elem.css("position","absolute")}h.sviZoomLock=1;h.scrollingLock=false;h.changeBgSize=false;h.currentZoomLevel=h.options.sviZoomLevel;h.nzOffset=h.$elem.offset();h.widthRatio=(h.largeWidth/h.currentZoomLevel)/h.nzWidth;h.heightRatio=(h.largeHeight/h.currentZoomLevel)/h.nzHeight;function g(){return"overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(h.options.sviZoomWindowBgColour)+";width: "+String(h.options.sviZoomWindowWidth)+"px;height: "+String(h.options.sviZoomWindowHeight)+"px;float: left;background-size: "+h.largeWidth/h.currentZoomLevel+"px "+h.largeHeight/h.currentZoomLevel+"px;display: none;z-index:100;border: "+String(h.options.borderSize)+"px solid "+h.options.borderColour+";background-repeat: no-repeat;position: absolute;"}if(h.options.sviZoomType==="window"){h.sviZoomWindowStyle=g()}function f(){var m=h.$elem.css("border-left-width");return"overflow: hidden;margin-left: "+String(m)+";margin-top: "+String(m)+";background-position: 0px 0px;width: "+String(h.nzWidth)+"px;height: "+String(h.nzHeight)+"px;float: left;display: none;cursor:"+(h.options.cursor)+";border: "+String(h.options.borderSize)+"px solid "+h.options.borderColour+";background-repeat: no-repeat;position: absolute;"}if(h.options.sviZoomType==="inner"){h.sviZoomWindowStyle=f()}function k(){if(h.nzHeight<h.options.sviZoomWindowHeight/h.heightRatio){h.lensHeight=h.nzHeight}else{h.lensHeight=String(h.options.sviZoomWindowHeight/h.heightRatio)}if(h.largeWidth<h.options.sviZoomWindowWidth){h.lensWidth=h.nzWidth}else{h.lensWidth=String(h.options.sviZoomWindowWidth/h.widthRatio)}return"background-position: 0px 0px;width: "+String((h.options.sviZoomWindowWidth)/h.widthRatio)+"px;height: "+String((h.options.sviZoomWindowHeight)/h.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;opacity:"+(h.options.lensOpacity)+";filter: alpha(opacity = "+(h.options.lensOpacity*100)+"); sviZoom:1;width:"+h.lensWidth+"px;height:"+h.lensHeight+"px;background-color:"+(h.options.lensColour)+";cursor:"+(h.options.cursor)+";border: "+(h.options.lensBorderSize)+"px solid "+(h.options.lensBorderColour)+";background-repeat: no-repeat;position: absolute;"}if(h.options.sviZoomType==="window"){h.lensStyle=k()}h.tintStyle="display: block;position: absolute;background-color: "+h.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+h.nzWidth+"px;height: "+h.nzHeight+"px;";h.lensRound="";if(h.options.sviZoomType==="lens"){h.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(h.options.borderSize)+"px solid "+h.options.borderColour+";width:"+String(h.options.lensSize)+"px;height:"+String(h.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"}if(h.options.lensShape==="round"){h.lensRound="border-top-left-radius: "+String(h.options.lensSize/2+h.options.borderSize)+"px;border-top-right-radius: "+String(h.options.lensSize/2+h.options.borderSize)+"px;border-bottom-left-radius: "+String(h.options.lensSize/2+h.options.borderSize)+"px;border-bottom-right-radius: "+String(h.options.lensSize/2+h.options.borderSize)+"px;"}h.sviZoomContainer=c('<div class="sviZoomContainer" uuid="'+h.options.sviZoomId+'"style="position:absolute;left:'+h.nzOffset.left+"px;top:"+h.nzOffset.top+"px;height:"+h.nzHeight+"px;width:"+h.nzWidth+"px;z-index:"+h.options.zIndex+'"></div>');if(h.$elem.attr("id")){h.sviZoomContainer.attr("id",h.$elem.attr("id")+"-sviZoomContainer")}c(h.options.sviZoomContainerAppendTo).append(h.sviZoomContainer);if(h.options.containLensZoom&&h.options.sviZoomType==="lens"){h.sviZoomContainer.css("overflow","hidden")}if(h.options.sviZoomType!=="inner"){h.sviZoomLens=c('<div class="sviZoomLens" style="'+h.lensStyle+h.lensRound+'">&nbsp;</div>').appendTo(h.sviZoomContainer).click(function(){h.$elem.trigger("click")});if(h.options.tint){h.tintContainer=c("<div/>").addClass("tintContainer");h.sviZoomTint=c('<div class="sviZoomTint" style="'+h.tintStyle+'"></div>');h.sviZoomLens.wrap(h.tintContainer);h.sviZoomTintcss=h.sviZoomLens.after(h.sviZoomTint);h.sviZoomTintImage=c('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+h.nzWidth+"px; height: "+h.nzHeight+'px;" src="'+h.imageSrc+'">').appendTo(h.sviZoomLens).click(function(){h.$elem.trigger("click")})}}var i=isNaN(h.options.sviZoomWindowPosition)?"body":h.sviZoomContainer;h.sviZoomWindow=c('<div style="z-index:999;left:'+(h.windowOffsetLeft)+"px;top:"+(h.windowOffsetTop)+"px;"+h.sviZoomWindowStyle+'" class="sviZoomWindow">&nbsp;</div>').appendTo(i).click(function(){h.$elem.trigger("click")});h.sviZoomWindowContainer=c("<div/>").addClass("sviZoomWindowContainer").css("width",h.options.sviZoomWindowWidth);h.sviZoomWindow.wrap(h.sviZoomWindowContainer);if(h.options.sviZoomType==="lens"){h.sviZoomLens.css("background-image",'url("'+h.imageSrc+'")')}if(h.options.sviZoomType==="window"){h.sviZoomWindow.css("background-image",'url("'+h.imageSrc+'")')}if(h.options.sviZoomType==="inner"){h.sviZoomWindow.css("background-image",'url("'+h.imageSrc+'")')}if(h.options.touchEnabled){h.$elem.bind("touchmove.ezpspace",function(m){m.preventDefault();var n=m.originalEvent.touches[0]||m.originalEvent.changedTouches[0];h.setPosition(n)});h.sviZoomContainer.bind("touchmove.ezpspace",function(m){if(h.options.sviZoomType==="inner"){h.showHideWindow("show")}m.preventDefault();var n=m.originalEvent.touches[0]||m.originalEvent.changedTouches[0];h.setPosition(n)});h.sviZoomContainer.bind("touchend.ezpspace",function(m){h.showHideWindow("hide");if(h.options.showLens){h.showHideLens("hide")}if(h.options.tint&&h.options.sviZoomType!=="inner"){h.showHideTint("hide")}});h.$elem.bind("touchend.ezpspace",function(m){h.showHideWindow("hide");if(h.options.showLens){h.showHideLens("hide")}if(h.options.tint&&h.options.sviZoomType!=="inner"){h.showHideTint("hide")}});if(h.options.showLens){h.sviZoomLens.bind("touchmove.ezpspace",function(m){m.preventDefault();var n=m.originalEvent.touches[0]||m.originalEvent.changedTouches[0];h.setPosition(n)});h.sviZoomLens.bind("touchend.ezpspace",function(m){h.showHideWindow("hide");if(h.options.showLens){h.showHideLens("hide")}if(h.options.tint&&h.options.sviZoomType!=="inner"){h.showHideTint("hide")}})}}h.$elem.bind("mousemove.ezpspace",function(m){if(h.overWindow===false){h.setElements("show")}if(h.lastX!==m.clientX||h.lastY!==m.clientY){h.setPosition(m);h.currentLoc=m}h.lastX=m.clientX;h.lastY=m.clientY});h.sviZoomContainer.bind("click.ezpspace touchstart.ezpspace",h.options.onImageClick);h.sviZoomContainer.bind("mousemove.ezpspace",function(m){if(h.overWindow===false){h.setElements("show")}l(m)});function l(m){if(h.lastX!==m.clientX||h.lastY!==m.clientY){h.setPosition(m);h.currentLoc=m}h.lastX=m.clientX;h.lastY=m.clientY}var j=null;if(h.options.sviZoomType!=="inner"){j=h.sviZoomLens}if(h.options.tint&&h.options.sviZoomType!=="inner"){j=h.sviZoomTint}if(h.options.sviZoomType==="inner"){j=h.sviZoomWindow}if(j){j.bind("mousemove.ezpspace",l)}h.sviZoomContainer.add(h.$elem).mouseenter(function(){if(h.overWindow===false){h.setElements("show")}}).mouseleave(function(){if(!h.scrollLock){h.setElements("hide");h.options.onDestroy(h.$elem)}});if(h.options.sviZoomType!=="inner"){h.sviZoomWindow.mouseenter(function(){h.overWindow=true;h.setElements("hide")}).mouseleave(function(){h.overWindow=false})}if(h.options.minZoomLevel){h.minZoomLevel=h.options.minZoomLevel}else{h.minZoomLevel=h.options.scrollZoomIncrement*2}if(h.options.scrollZoom){h.sviZoomContainer.add(h.$elem).bind("wheel DOMMouseScroll MozMousePixelScroll",function(m){h.scrollLock=true;clearTimeout(c.data(this,"timer"));c.data(this,"timer",setTimeout(function(){h.scrollLock=false},250));var o=m.originalEvent.deltaY||m.originalEvent.detail*-1;m.stopImmediatePropagation();m.stopPropagation();m.preventDefault();if(o==0){return false}if(o/120>0){var n=parseFloat(h.currentZoomLevel)-h.options.scrollZoomIncrement;if(n>=parseFloat(h.minZoomLevel)){h.changeZoomLevel(n)}}else{if((!h.fullheight&&!h.fullwidth)||!h.options.mantainZoomAspectRatio){var n=parseFloat(h.currentZoomLevel)+h.options.scrollZoomIncrement;if(h.options.maxZoomLevel){if(n<=h.options.maxZoomLevel){h.changeZoomLevel(n)}}else{h.changeZoomLevel(n)}}}return false})}},destroy:function(){var f=this;f.$elem.unbind("ezpspace");c(f.sviZoomContainer).remove();if(f.options.loadingIcon&&!!f.spinner&&!!f.spinner.length){f.spinner.remove();delete f.spinner}},getIdentifier:function(){var f=this;return f.options.sviZoomId},setElements:function(g){var f=this;if(!f.options.sviZoomEnabled){return false}if(g==="show"){if(f.isWindowSet){if(f.options.sviZoomType==="inner"){f.showHideWindow("show")}if(f.options.sviZoomType==="window"){f.showHideWindow("show")}if(f.options.showLens){f.showHideLens("show")}if(f.options.tint&&f.options.sviZoomType!=="inner"){f.showHideTint("show")}}}if(g==="hide"){if(f.options.sviZoomType==="window"){f.showHideWindow("hide")}if(!f.options.tint){f.showHideWindow("hide")}if(f.options.showLens){f.showHideLens("hide")}if(f.options.tint){f.showHideTint("hide")}}},setPosition:function(j){var f=this;if(!f.options.sviZoomEnabled){return false}f.nzHeight=f.$elem.height();f.nzWidth=f.$elem.width();f.nzOffset=f.$elem.offset();if(f.options.tint&&f.options.sviZoomType!=="inner"){f.sviZoomTint.css({top:0,left:0})}if(f.options.responsive&&!f.options.scrollZoom){if(f.options.showLens){var h,k;if(f.nzHeight<f.options.sviZoomWindowWidth/f.widthRatio){f.lensHeight=f.nzHeight}else{f.lensHeight=String((f.options.sviZoomWindowHeight/f.heightRatio))}if(f.largeWidth<f.options.sviZoomWindowWidth){f.lensWidth=f.nzWidth}else{f.lensWidth=(f.options.sviZoomWindowWidth/f.widthRatio)}f.widthRatio=f.largeWidth/f.nzWidth;f.heightRatio=f.largeHeight/f.nzHeight;if(f.options.sviZoomType!=="lens"){if(f.nzHeight<f.options.sviZoomWindowWidth/f.widthRatio){f.lensHeight=f.nzHeight}else{f.lensHeight=String((f.options.sviZoomWindowHeight/f.heightRatio))}if(f.nzWidth<f.options.sviZoomWindowHeight/f.heightRatio){f.lensWidth=f.nzWidth}else{f.lensWidth=String((f.options.sviZoomWindowWidth/f.widthRatio))}f.sviZoomLens.css({width:f.lensWidth,height:f.lensHeight});if(f.options.tint){f.sviZoomTintImage.css({width:f.nzWidth,height:f.nzHeight})}}if(f.options.sviZoomType==="lens"){f.sviZoomLens.css({width:String(f.options.lensSize)+"px",height:String(f.options.lensSize)+"px"})}}}f.sviZoomContainer.css({top:f.nzOffset.top,left:f.nzOffset.left,width:f.nzWidth,height:f.nzHeight});f.mouseLeft=parseInt(j.pageX-f.nzOffset.left);f.mouseTop=parseInt(j.pageY-f.nzOffset.top);if(f.options.sviZoomType==="window"){var g=f.sviZoomLens.height()/2;var i=f.sviZoomLens.width()/2;f.Etoppos=(f.mouseTop<0+g);f.Eboppos=(f.mouseTop>f.nzHeight-g-(f.options.lensBorderSize*2));f.Eloppos=(f.mouseLeft<0+i);f.Eroppos=(f.mouseLeft>(f.nzWidth-i-(f.options.lensBorderSize*2)))}if(f.options.sviZoomType==="inner"){f.Etoppos=(f.mouseTop<((f.nzHeight/2)/f.heightRatio));f.Eboppos=(f.mouseTop>(f.nzHeight-((f.nzHeight/2)/f.heightRatio)));f.Eloppos=(f.mouseLeft<0+(((f.nzWidth/2)/f.widthRatio)));f.Eroppos=(f.mouseLeft>(f.nzWidth-(f.nzWidth/2)/f.widthRatio-(f.options.lensBorderSize*2)))}if(f.mouseLeft<0||f.mouseTop<0||f.mouseLeft>f.nzWidth||f.mouseTop>f.nzHeight){f.setElements("hide");return}else{if(f.options.showLens){f.lensLeftPos=String(Math.floor(f.mouseLeft-f.sviZoomLens.width()/2));f.lensTopPos=String(Math.floor(f.mouseTop-f.sviZoomLens.height()/2))}if(f.Etoppos){f.lensTopPos=0}if(f.Eloppos){f.windowLeftPos=0;f.lensLeftPos=0;f.tintpos=0}if(f.options.sviZoomType==="window"){if(f.Eboppos){f.lensTopPos=Math.max((f.nzHeight)-f.sviZoomLens.height()-(f.options.lensBorderSize*2),0)}if(f.Eroppos){f.lensLeftPos=(f.nzWidth-(f.sviZoomLens.width())-(f.options.lensBorderSize*2))}}if(f.options.sviZoomType==="inner"){if(f.Eboppos){f.lensTopPos=Math.max(((f.nzHeight)-(f.options.lensBorderSize*2)),0)}if(f.Eroppos){f.lensLeftPos=(f.nzWidth-(f.nzWidth)-(f.options.lensBorderSize*2))}}if(f.options.sviZoomType==="lens"){f.windowLeftPos=String(((j.pageX-f.nzOffset.left)*f.widthRatio-f.sviZoomLens.width()/2)*(-1));f.windowTopPos=String(((j.pageY-f.nzOffset.top)*f.heightRatio-f.sviZoomLens.height()/2)*(-1));f.sviZoomLens.css("background-position",f.windowLeftPos+"px "+f.windowTopPos+"px");if(f.changeBgSize){if(f.nzHeight>f.nzWidth){if(f.options.sviZoomType==="lens"){f.sviZoomLens.css("background-size",f.largeWidth/f.newvalueheight+"px "+f.largeHeight/f.newvalueheight+"px")}f.sviZoomWindow.css("background-size",f.largeWidth/f.newvalueheight+"px "+f.largeHeight/f.newvalueheight+"px")}else{if(f.options.sviZoomType==="lens"){f.sviZoomLens.css("background-size",f.largeWidth/f.newvaluewidth+"px "+f.largeHeight/f.newvaluewidth+"px")}f.sviZoomWindow.css("background-size",f.largeWidth/f.newvaluewidth+"px "+f.largeHeight/f.newvaluewidth+"px")}f.changeBgSize=false}f.setWindowPosition(j)}if(f.options.tint&&f.options.sviZoomType!=="inner"){f.setTintPosition(j)}if(f.options.sviZoomType==="window"){f.setWindowPosition(j)}if(f.options.sviZoomType==="inner"){f.setWindowPosition(j)}if(f.options.showLens){if(f.fullwidth&&f.options.sviZoomType!=="lens"){f.lensLeftPos=0}f.sviZoomLens.css({left:f.lensLeftPos+"px",top:f.lensTopPos+"px"})}}},showHideZoomContainer:function(g){var f=this;if(g==="show"){if(f.sviZoomContainer){f.sviZoomContainer.show()}}if(g==="hide"){if(f.sviZoomContainer){f.sviZoomContainer.hide()}}},showHideWindow:function(g){var f=this;if(g==="show"){if(!f.isWindowActive&&f.sviZoomWindow){f.options.onShow(f);if(f.options.sviZoomWindowFadeIn){f.sviZoomWindow.stop(true,true,false).fadeIn(f.options.sviZoomWindowFadeIn)}else{f.sviZoomWindow.show()}f.isWindowActive=true}}if(g==="hide"){if(f.isWindowActive){if(f.options.sviZoomWindowFadeOut){f.sviZoomWindow.stop(true,true).fadeOut(f.options.sviZoomWindowFadeOut,function(){if(f.loop){clearInterval(f.loop);f.loop=false}})}else{f.sviZoomWindow.hide()}f.isWindowActive=false}}},showHideLens:function(g){var f=this;if(g==="show"){if(!f.isLensActive){if(f.sviZoomLens){if(f.options.lensFadeIn){f.sviZoomLens.stop(true,true,false).fadeIn(f.options.lensFadeIn)}else{f.sviZoomLens.show()}}f.isLensActive=true}}if(g==="hide"){if(f.isLensActive){if(f.sviZoomLens){if(f.options.lensFadeOut){f.sviZoomLens.stop(true,true).fadeOut(f.options.lensFadeOut)}else{f.sviZoomLens.hide()}}f.isLensActive=false}}},showHideTint:function(g){var f=this;if(g==="show"){if(!f.isTintActive&&f.sviZoomTint){if(f.options.sviZoomTintFadeIn){f.sviZoomTint.css("opacity",f.options.tintOpacity).animate().stop(true,true).fadeIn("slow")}else{f.sviZoomTint.css("opacity",f.options.tintOpacity).animate();f.sviZoomTint.show()}f.isTintActive=true}}if(g==="hide"){if(f.isTintActive){if(f.options.sviZoomTintFadeOut){f.sviZoomTint.stop(true,true).fadeOut(f.options.sviZoomTintFadeOut)}else{f.sviZoomTint.hide()}f.isTintActive=false}}},setLensPosition:function(f){},setWindowPosition:function(h){var g=this;if(!isNaN(g.options.sviZoomWindowPosition)){switch(g.options.sviZoomWindowPosition){case 1:g.windowOffsetTop=(g.options.sviZoomWindowOffsetY);g.windowOffsetLeft=(+g.nzWidth);break;case 2:if(g.options.sviZoomWindowHeight>g.nzHeight){g.windowOffsetTop=((g.options.sviZoomWindowHeight/2)-(g.nzHeight/2))*(-1);g.windowOffsetLeft=(g.nzWidth)}else{c.noop()}break;case 3:g.windowOffsetTop=(g.nzHeight-g.sviZoomWindow.height()-(g.options.borderSize*2));g.windowOffsetLeft=(g.nzWidth);break;case 4:g.windowOffsetTop=(g.nzHeight);g.windowOffsetLeft=(g.nzWidth);break;case 5:g.windowOffsetTop=(g.nzHeight);g.windowOffsetLeft=(g.nzWidth-g.sviZoomWindow.width()-(g.options.borderSize*2));break;case 6:if(g.options.sviZoomWindowHeight>g.nzHeight){g.windowOffsetTop=(g.nzHeight);g.windowOffsetLeft=((g.options.sviZoomWindowWidth/2)-(g.nzWidth/2)+(g.options.borderSize*2))*(-1)}else{c.noop()}break;case 7:g.windowOffsetTop=(g.nzHeight);g.windowOffsetLeft=0;break;case 8:g.windowOffsetTop=(g.nzHeight);g.windowOffsetLeft=(g.sviZoomWindow.width()+(g.options.borderSize*2))*(-1);break;case 9:g.windowOffsetTop=(g.nzHeight-g.sviZoomWindow.height()-(g.options.borderSize*2));g.windowOffsetLeft=(g.sviZoomWindow.width()+(g.options.borderSize*2))*(-1);break;case 10:if(g.options.sviZoomWindowHeight>g.nzHeight){g.windowOffsetTop=((g.options.sviZoomWindowHeight/2)-(g.nzHeight/2))*(-1);g.windowOffsetLeft=(g.sviZoomWindow.width()+(g.options.borderSize*2))*(-1)}else{c.noop()}break;case 11:g.windowOffsetTop=(g.options.sviZoomWindowOffsetY);g.windowOffsetLeft=(g.sviZoomWindow.width()+(g.options.borderSize*2))*(-1);break;case 12:g.windowOffsetTop=(g.sviZoomWindow.height()+(g.options.borderSize*2))*(-1);g.windowOffsetLeft=(g.sviZoomWindow.width()+(g.options.borderSize*2))*(-1);break;case 13:g.windowOffsetTop=(g.sviZoomWindow.height()+(g.options.borderSize*2))*(-1);g.windowOffsetLeft=(0);break;case 14:if(g.options.sviZoomWindowHeight>g.nzHeight){g.windowOffsetTop=(g.sviZoomWindow.height()+(g.options.borderSize*2))*(-1);g.windowOffsetLeft=((g.options.sviZoomWindowWidth/2)-(g.nzWidth/2)+(g.options.borderSize*2))*(-1)}else{c.noop()}break;case 15:g.windowOffsetTop=(g.sviZoomWindow.height()+(g.options.borderSize*2))*(-1);g.windowOffsetLeft=(g.nzWidth-g.sviZoomWindow.width()-(g.options.borderSize*2));break;case 16:g.windowOffsetTop=(g.sviZoomWindow.height()+(g.options.borderSize*2))*(-1);g.windowOffsetLeft=(g.nzWidth);break;default:g.windowOffsetTop=(g.options.sviZoomWindowOffsetY);g.windowOffsetLeft=(g.nzWidth)}}else{g.externalContainer=c(g.options.sviZoomWindowPosition);if(!g.externalContainer.length){g.externalContainer=c("#"+g.options.sviZoomWindowPosition)}g.externalContainerWidth=g.externalContainer.width();g.externalContainerHeight=g.externalContainer.height();g.externalContainerOffset=g.externalContainer.offset();g.windowOffsetTop=g.externalContainerOffset.top;g.windowOffsetLeft=g.externalContainerOffset.left}g.isWindowSet=true;g.windowOffsetTop=g.windowOffsetTop+g.options.sviZoomWindowOffsetY;g.windowOffsetLeft=g.windowOffsetLeft+g.options.sviZoomWindowOffsetX;g.sviZoomWindow.css({top:g.windowOffsetTop,left:g.windowOffsetLeft});if(g.options.sviZoomType==="inner"){g.sviZoomWindow.css({top:0,left:0})}g.windowLeftPos=String(((h.pageX-g.nzOffset.left)*g.widthRatio-g.sviZoomWindow.width()/2)*(-1));g.windowTopPos=String(((h.pageY-g.nzOffset.top)*g.heightRatio-g.sviZoomWindow.height()/2)*(-1));if(g.Etoppos){g.windowTopPos=0}if(g.Eloppos){g.windowLeftPos=0}if(g.Eboppos){g.windowTopPos=(g.largeHeight/g.currentZoomLevel-g.sviZoomWindow.height())*(-1)}if(g.Eroppos){g.windowLeftPos=((g.largeWidth/g.currentZoomLevel-g.sviZoomWindow.width())*(-1))}if(g.fullheight){g.windowTopPos=0}if(g.fullwidth){g.windowLeftPos=0}if(g.options.sviZoomType==="window"||g.options.sviZoomType==="inner"){if(g.sviZoomLock===1){if(g.widthRatio<=1){g.windowLeftPos=0}if(g.heightRatio<=1){g.windowTopPos=0}}if(g.options.sviZoomType==="window"){if(g.largeHeight<g.options.sviZoomWindowHeight){g.windowTopPos=0}if(g.largeWidth<g.options.sviZoomWindowWidth){g.windowLeftPos=0}}if(g.options.easing){if(!g.xp){g.xp=0}if(!g.yp){g.yp=0}var f=16;if(Number.isInteger(parseInt(g.options.easing))){f=parseInt(g.options.easing)}if(!g.loop){g.loop=setInterval(function(){g.xp+=(g.windowLeftPos-g.xp)/g.options.easingAmount;g.yp+=(g.windowTopPos-g.yp)/g.options.easingAmount;if(g.scrollingLock){clearInterval(g.loop);g.xp=g.windowLeftPos;g.yp=g.windowTopPos;g.xp=((h.pageX-g.nzOffset.left)*g.widthRatio-g.sviZoomWindow.width()/2)*(-1);g.yp=(((h.pageY-g.nzOffset.top)*g.heightRatio-g.sviZoomWindow.height()/2)*(-1));if(g.changeBgSize){if(g.nzHeight>g.nzWidth){if(g.options.sviZoomType==="lens"){g.sviZoomLens.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}g.sviZoomWindow.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}else{if(g.options.sviZoomType!=="lens"){g.sviZoomLens.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvalueheight+"px")}g.sviZoomWindow.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px")}g.changeBgSize=false}g.sviZoomWindow.css("background-position",g.windowLeftPos+"px "+g.windowTopPos+"px");g.scrollingLock=false;g.loop=false}else{if(Math.round(Math.abs(g.xp-g.windowLeftPos)+Math.abs(g.yp-g.windowTopPos))<1){clearInterval(g.loop);g.sviZoomWindow.css("background-position",g.windowLeftPos+"px "+g.windowTopPos+"px");g.loop=false}else{if(g.changeBgSize){if(g.nzHeight>g.nzWidth){if(g.options.sviZoomType==="lens"){g.sviZoomLens.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}g.sviZoomWindow.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}else{if(g.options.sviZoomType!=="lens"){g.sviZoomLens.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px")}g.sviZoomWindow.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px")}g.changeBgSize=false}g.sviZoomWindow.css("background-position",g.xp+"px "+g.yp+"px")}}},f)}}else{if(g.changeBgSize){if(g.nzHeight>g.nzWidth){if(g.options.sviZoomType==="lens"){g.sviZoomLens.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}g.sviZoomWindow.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}else{if(g.options.sviZoomType==="lens"){g.sviZoomLens.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px")}if((g.largeHeight/g.newvaluewidth)<g.options.sviZoomWindowHeight){g.sviZoomWindow.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px")}else{g.sviZoomWindow.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}}g.changeBgSize=false}g.sviZoomWindow.css("background-position",g.windowLeftPos+"px "+g.windowTopPos+"px")}}},setTintPosition:function(i){var f=this;var h=f.sviZoomLens.width();var g=f.sviZoomLens.height();f.nzOffset=f.$elem.offset();f.tintpos=String(((i.pageX-f.nzOffset.left)-(h/2))*(-1));f.tintposy=String(((i.pageY-f.nzOffset.top)-g/2)*(-1));if(f.Etoppos){f.tintposy=0}if(f.Eloppos){f.tintpos=0}if(f.Eboppos){f.tintposy=(f.nzHeight-g-(f.options.lensBorderSize*2))*(-1)}if(f.Eroppos){f.tintpos=((f.nzWidth-h-(f.options.lensBorderSize*2))*(-1))}if(f.options.tint){if(f.fullheight){f.tintposy=0}if(f.fullwidth){f.tintpos=0}f.sviZoomTintImage.css({left:f.tintpos+"px",top:f.tintposy+"px"})}},swaptheimage:function(i,h){var g=this;var j=new Image();if(g.options.loadingIcon&&!g.spinner){var f="background: url('"+g.options.loadingIcon+"') no-repeat center;height:"+g.nzHeight+"px;width:"+g.nzWidth+"px;z-index: 2000;position: absolute; background-position: center center;";if(g.options.sviZoomType==="inner"){f+="top: 0px;"}g.spinner=c('<div class="ezp-spinner" style="'+f+'"></div>');g.$elem.after(g.spinner)}else{if(g.spinner){g.spinner.show()}}g.options.onImageSwap(g.$elem);j.onload=function(){g.largeWidth=j.width;g.largeHeight=j.height;g.sviZoomImage=h;g.sviZoomWindow.css("background-size",g.largeWidth+"px "+g.largeHeight+"px");g.swapAction(i,h);return};g.setImageSource(j,h)},swapAction:function(s,p){var q=this;var i=q.$elem.width();var g=q.$elem.height();var o=new Image();o.onload=function(){q.nzHeight=o.height;q.nzWidth=o.width;q.options.onImageSwapComplete(q.$elem);q.doneCallback();return};q.setImageSource(o,s);q.currentZoomLevel=q.options.sviZoomLevel;q.options.maxZoomLevel=false;if(q.options.sviZoomType==="lens"){q.sviZoomLens.css("background-image",'url("'+p+'")')}if(q.options.sviZoomType==="window"){q.sviZoomWindow.css("background-image",'url("'+p+'")')}if(q.options.sviZoomType==="inner"){q.sviZoomWindow.css("background-image",'url("'+p+'")')}q.currentImage=p;if(q.options.imageCrossfade){var f=q.$elem;var j=f.clone();q.$elem.attr("src",s);q.$elem.after(j);j.stop(true).fadeOut(q.options.imageCrossfade,function(){c(this).remove()});q.$elem.width("auto").removeAttr("width");q.$elem.height("auto").removeAttr("height");f.fadeIn(q.options.imageCrossfade);if(q.options.tint&&q.options.sviZoomType!=="inner"){var r=q.sviZoomTintImage;var h=r.clone();q.sviZoomTintImage.attr("src",p);q.sviZoomTintImage.after(h);h.stop(true).fadeOut(q.options.imageCrossfade,function(){c(this).remove()});r.fadeIn(q.options.imageCrossfade);q.sviZoomTint.css({height:g,width:i})}q.sviZoomContainer.css({height:g,width:i});if(q.options.sviZoomType==="inner"){if(!q.options.constrainType){q.sviZoomWrap.parent().css({height:g,width:i});q.sviZoomWindow.css({height:g,width:i})}}if(q.options.imageCrossfade){q.sviZoomWrap.css({height:g,width:i})}}else{q.$elem.attr("src",s);if(q.options.tint){q.sviZoomTintImage.attr("src",p);q.sviZoomTintImage.attr("height",g);q.sviZoomTintImage.css("height",g);q.sviZoomTint.css("height",g)}q.sviZoomContainer.css({height:g,width:i});if(q.options.imageCrossfade){q.sviZoomWrap.css({height:g,width:i})}}if(q.options.constrainType){if(q.options.constrainType==="height"){var n={height:q.options.constrainSize,width:"auto"};q.sviZoomContainer.css(n);if(q.options.imageCrossfade){q.sviZoomWrap.css(n);q.constwidth=q.sviZoomWrap.width()}else{q.$elem.css(n);q.constwidth=i}var l={height:q.options.constrainSize,width:q.constwidth};if(q.options.sviZoomType==="inner"){q.sviZoomWrap.parent().css(l);q.sviZoomWindow.css(l)}if(q.options.tint){q.tintContainer.css(l);q.sviZoomTint.css(l);q.sviZoomTintImage.css(l)}}if(q.options.constrainType==="width"){var m={height:"auto",width:q.options.constrainSize};q.sviZoomContainer.css(m);if(q.options.imageCrossfade){q.sviZoomWrap.css(m);q.constheight=q.sviZoomWrap.height()}else{q.$elem.css(m);q.constheight=g}var k={height:q.constheight,width:q.options.constrainSize};if(q.options.sviZoomType==="inner"){q.sviZoomWrap.parent().css(k);q.sviZoomWindow.css(k)}if(q.options.tint){q.tintContainer.css(k);q.sviZoomTint.css(k);q.sviZoomTintImage.css(k)}}}},doneCallback:function(){var f=this;if(f.options.loadingIcon&&!!f.spinner&&!!f.spinner.length){f.spinner.hide()}f.nzOffset=f.$elem.offset();f.nzWidth=f.$elem.width();f.nzHeight=f.$elem.height();f.currentZoomLevel=f.options.sviZoomLevel;f.widthRatio=f.largeWidth/f.nzWidth;f.heightRatio=f.largeHeight/f.nzHeight;if(f.options.sviZoomType==="window"){if(f.nzHeight<f.options.sviZoomWindowHeight/f.heightRatio){f.lensHeight=f.nzHeight}else{f.lensHeight=String((f.options.sviZoomWindowHeight/f.heightRatio))}if(f.nzWidth<f.options.sviZoomWindowWidth){f.lensWidth=f.nzWidth}else{f.lensWidth=(f.options.sviZoomWindowWidth/f.widthRatio)}if(f.sviZoomLens){f.sviZoomLens.css({width:f.lensWidth,height:f.lensHeight})}}},getCurrentImage:function(){var f=this;return f.sviZoomImage},getGalleryList:function(){var f=this;f.gallerylist=[];if(f.options.gallery){c("#"+f.options.gallery+" a").each(function(){var g="";if(c(this).data(f.options.attrImageZoomSrc)){g=c(this).data(f.options.attrImageZoomSrc)}else{if(c(this).data("image")){g=c(this).data("image")}}if(g===f.sviZoomImage){f.gallerylist.unshift({href:""+g+"",title:c(this).find("img").attr("title")})}else{f.gallerylist.push({href:""+g+"",title:c(this).find("img").attr("title")})}})}else{f.gallerylist.push({href:""+f.sviZoomImage+"",title:c(this).find("img").attr("title")})}return f.gallerylist},changeZoomLevel:function(j){var i=this;i.scrollingLock=true;i.newvalue=parseFloat(j).toFixed(2);var h=i.newvalue;var g=i.largeHeight/((i.options.sviZoomWindowHeight/i.nzHeight)*i.nzHeight);var k=i.largeWidth/((i.options.sviZoomWindowWidth/i.nzWidth)*i.nzWidth);if(i.options.sviZoomType!=="inner"){if(g<=h){i.heightRatio=(i.largeHeight/g)/i.nzHeight;i.newvalueheight=g;i.fullheight=true}else{i.heightRatio=(i.largeHeight/h)/i.nzHeight;i.newvalueheight=h;i.fullheight=false}if(k<=h){i.widthRatio=(i.largeWidth/k)/i.nzWidth;i.newvaluewidth=k;i.fullwidth=true}else{i.widthRatio=(i.largeWidth/h)/i.nzWidth;i.newvaluewidth=h;i.fullwidth=false}if(i.options.sviZoomType==="lens"){if(g<=h){i.fullwidth=true;i.newvaluewidth=g}else{i.widthRatio=(i.largeWidth/h)/i.nzWidth;i.newvaluewidth=h;i.fullwidth=false}}}if(i.options.sviZoomType==="inner"){g=parseFloat(i.largeHeight/i.nzHeight).toFixed(2);k=parseFloat(i.largeWidth/i.nzWidth).toFixed(2);if(h>g){h=g}if(h>k){h=k}if(g<=h){i.heightRatio=(i.largeHeight/h)/i.nzHeight;if(h>g){i.newvalueheight=g}else{i.newvalueheight=h}i.fullheight=true}else{i.heightRatio=(i.largeHeight/h)/i.nzHeight;if(h>g){i.newvalueheight=g}else{i.newvalueheight=h}i.fullheight=false}if(k<=h){i.widthRatio=(i.largeWidth/h)/i.nzWidth;if(h>k){i.newvaluewidth=k}else{i.newvaluewidth=h}i.fullwidth=true}else{i.widthRatio=(i.largeWidth/h)/i.nzWidth;i.newvaluewidth=h;i.fullwidth=false}}var f=false;if(i.options.sviZoomType==="inner"){if(i.nzWidth>=i.nzHeight){if(i.newvaluewidth<=k){f=true}else{f=false;i.fullheight=true;i.fullwidth=true}}if(i.nzHeight>i.nzWidth){if(i.newvaluewidth<=k){f=true}else{f=false;i.fullheight=true;i.fullwidth=true}}}if(i.options.sviZoomType!=="inner"){f=true}if(f){i.sviZoomLock=0;i.changeZoom=true;if(((i.options.sviZoomWindowHeight)/i.heightRatio)<=i.nzHeight){i.currentZoomLevel=i.newvalueheight;if(i.options.sviZoomType!=="lens"&&i.options.sviZoomType!=="inner"){i.changeBgSize=true;i.sviZoomLens.css("height",String(i.options.sviZoomWindowHeight/i.heightRatio)+"px")}if(i.options.sviZoomType==="lens"||i.options.sviZoomType==="inner"){i.changeBgSize=true}}if((i.options.sviZoomWindowWidth/i.widthRatio)<=i.nzWidth){if(i.options.sviZoomType!=="inner"){if(i.newvaluewidth>i.newvalueheight){i.currentZoomLevel=i.newvaluewidth}}if(i.options.sviZoomType!=="lens"&&i.options.sviZoomType!=="inner"){i.changeBgSize=true;i.sviZoomLens.css("width",String(i.options.sviZoomWindowWidth/i.widthRatio)+"px")}if(i.options.sviZoomType==="lens"||i.options.sviZoomType==="inner"){i.changeBgSize=true}}if(i.options.sviZoomType==="inner"){i.changeBgSize=true;if(i.nzWidth>i.nzHeight){i.currentZoomLevel=i.newvaluewidth}else{if(i.nzHeight>=i.nzWidth){i.currentZoomLevel=i.newvaluewidth}}}}i.setPosition(i.currentLoc)},closeAll:function(){var f=this;if(f.sviZoomWindow){f.sviZoomWindow.hide()}if(f.sviZoomLens){f.sviZoomLens.hide()}if(f.sviZoomTint){f.sviZoomTint.hide()}},changeState:function(g){var f=this;if(g==="enable"){f.options.sviZoomEnabled=true}if(g==="disable"){f.options.sviZoomEnabled=false}},responsiveConfig:function(f){if(f.respond&&f.respond.length>0){return c.extend({},f,this.configByScreenWidth(f))}return f},configByScreenWidth:function(g){var h=c(b).width();var f=c.grep(g.respond,function(j){var i=j.range.split("-");return(h>=i[0])&&(h<=i[1])});if(f.length>0){return f[0]}else{return g}}};c.fn.ezPlus=function(f){return this.each(function(){var g=Object.create(e);g.init(f,this);c.data(this,"ezPlus",g)})};c.fn.ezPlus.options={attrImageZoomSrc:"svizoom-image",borderColour:"#888",borderSize:4,constrainSize:false,constrainType:false,containLensZoom:false,cursor:"inherit",debug:false,easing:false,easingAmount:12,enabled:true,gallery:false,galleryActiveClass:"sviZoomGalleryActive",gallerySelector:false,galleryItem:"a",imageCrossfade:false,lensBorderColour:"#000",lensBorderSize:1,lensColour:"white",lensFadeIn:false,lensFadeOut:false,lensOpacity:0.4,lensShape:"square",lensSize:200,lenssviZoom:false,loadingIcon:false,mantainZoomAspectRatio:false,maxZoomLevel:false,minZoomLevel:1.01,onComplete:c.noop,onDestroy:c.noop,onImageClick:c.noop,onImageSwap:c.noop,onImageSwapComplete:c.noop,onShow:c.noop,onZoomedImageLoaded:c.noop,preloading:1,respond:[],responsive:true,scrollZoom:false,scrollZoomIncrement:0.1,showLens:true,tint:false,tintColour:"#333",tintOpacity:0.4,touchEnabled:true,sviZoomActivation:"hover",sviZoomContainerAppendTo:"body",sviZoomId:-1,sviZoomLevel:1,sviZoomTintFadeIn:false,sviZoomTintFadeOut:false,sviZoomType:"window",sviZoomWindowAlwaysShow:false,sviZoomWindowBgColour:"#fff",sviZoomWindowFadeIn:false,sviZoomWindowFadeOut:false,sviZoomWindowHeight:400,sviZoomWindowOffsetX:0,sviZoomWindowOffsetY:0,sviZoomWindowPosition:1,sviZoomWindowWidth:400,sviZoomEnabled:true,zIndex:9999}})(jQuery,window,document);