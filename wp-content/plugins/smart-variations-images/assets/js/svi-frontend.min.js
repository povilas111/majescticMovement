
if(!WOOSVI){var WOOSVI={}}else{if(WOOSVI&&typeof WOOSVI!=="object"){throw new Error("WOOSVI is not an Object type")}}WOOSVI.isLoaded=false;WOOSVI.STARTS=function(e){var i=e(".variations_form");var c=i.data("product_variations");var d=e("div#woosvi_strap");var g=[];var f=d.hasClass("woosvi_lightbox");var a=d.hasClass("woosvi_lens");var b=d.hasClass("svihide_thumbs");var h=true;return{NAME:"Application initialize module",VERSION:3.8,init:function(){this.loadInits()},loadInits:function(){e("div.product a").unbind("click.prettyphoto");WOOSVI.STARTS.initImages()},runInits:function(){if(i.find(".variations select").length>0){WOOSVI.STARTS.getVariations();WOOSVI.STARTS.variationLoad();WOOSVI.STARTS.variationChange();WOOSVI.STARTS.variationReset()}else{e("div.svithumbnails,a.woocommerce-main-image").fadeIn();WOOSVI.STARTS.loader()}},preventDefault:function(){e("div#woosvi_strap a").click(function(j){j.preventDefault()})},initImages:function(){if(i.find(".variations select").length<=0){h=false}e("#woosvi_strap").fadeIn();if(b&&h){e("a.woocommerce-main-image").hide().removeClass("hidden")}else{e("div.svithumbnails,a.woocommerce-main-image").hide().removeClass("hidden")}e("div.svithumbnails a").click(function(){WOOSVI.STARTS.initSwap(this)});WOOSVI.STARTS.runInits();WOOSVI.STARTS.preventDefault()},swselect:function(k){var m,l;var j=e(k).find("img").data("woosvi");e.each(i.find("option"),function(o,n){l=e(n).val().replace(/ /g,"").toLowerCase();if(String(l)===String(j)){m=e(n).closest("select");j=e(n).val();return false}});if(m){m.val(j).trigger("change")}},initRebuild:function(m){var l,k,n,j;l=e("div.svithumbnails").data("columns");j=e("div.svithumbnails").find('img[data-woosvi="'+m+'"]').size()-1;n=e("div.svithumbnails").find('img[data-woosvi="'+m+'"]').closest("a");e("div.svithumbnails").find("img").closest("a").show();e("div.svithumbnails").find("img").closest("a").attr("class","");e("div.svithumbnails").find('img:not([data-woosvi="'+m+'"])').closest("a").hide();n.each(function(p,o){k=[""];if(p===0||p%l===0){k.push("first")}if((p+1)%l===0){k.push("last")}if(p===j){k.push("last")}e(o).attr("class",k.join(" "));if(p===0){WOOSVI.STARTS.initSwap(o)}});WOOSVI.STARTS.preventDefault()},initSwap:function(j,l){var k=e(j).clone();var m=new Image();m.src=k.find("img").attr("src");e(m).on("load",function(){k.attr("class","woocommerce-main-image zoom");e("div#woosvimain a").remove();e("div#woosvimain").prepend(k);WOOSVI.STARTS.preventDefault();if(b&&h){if(l!=="initReset"){e("div.svithumbnails").hide().removeClass("hidden")}else{e("div.svithumbnails").hide().addClass("hidden")}}e("div.svithumbnails,a.woocommerce-main-image").fadeIn();WOOSVI.STARTS.loader()})},initReset:function(){var k,j,l;k=e("div.svithumbnails").data("columns");l=e("div.svithumbnails").find("img").closest("a");e("div.svithumbnails").find("img").closest("a").show();e("div.svithumbnails").find("img").closest("a").attr("class","");l.each(function(n,m){j=["zoom"];if(n===0||n%k===0){j.push("first")}if((n+1)%k===0){j.push("last")}e(m).attr("class",j.join(" "));if(n==0){WOOSVI.STARTS.initSwap(m,"initReset")}});WOOSVI.STARTS.preventDefault();WOOSVI.STARTS.loader()},prettyPhoto:function(){if(!f){WOOSVI.STARTS.preventDefault();return}e("div#woosvimain a").on("click",function(l){l.preventDefault();var k=e(this).attr("href");var n=e(this).attr("title");var j=[];var m=[];e("div.svithumbnails a:visible").each(function(){var o=e(this).attr("href");if(o===""){o=e(this).data("o_href")}j.push(o);m.push(e(this).attr("title"))});if(e.isEmptyObject(j)){j.push(k);m.push(n)}e.prettyPhoto.open(j,m);e("div.pp_gallery").find('img[src="'+k+'"]').parent().trigger("click")})},LoadLens:function(){e("div.sviZoomContainer").remove();var j,l,k;j=e("div#woosvimain img");l=e("div#woosvi_strap").data();k={sviZoomType:"lens",lensShape:"round",lensSize:150,cursor:"pointer",galleryActiveClass:"active",containLensZoom:true,loadingIcon:true,};j.ezPlus(k)},getVariations:function(){e.each(c,function(k,j){g.push(j.attributes.attribute_pa_color)})},variationLoad:function(k){if(typeof(k)=="undefined"){k=false}var j=false;e.each(i.find(".variations select"),function(l,n){var m=e(this).val().replace(/ /g,"").toLowerCase();if(m){j=e("div.svithumbnails").find('img[data-woosvi="'+m+'"]').length;if(j===0){return}WOOSVI.STARTS.initRebuild(m)}else{WOOSVI.STARTS.loader()}});if(!j){e("div.svithumbnails,a.woocommerce-main-image").fadeIn()}},variationChange:function(){var j,k,l;e(document).ajaxSend(function(n,o,m){if(m.url.indexOf("wc-ajax=get_variation")>=0){e("div.svithumbnails").fadeTo("slow",0.4)}}).ajaxComplete(function(n,o,m){if(m.url.indexOf("wc-ajax=get_variation")>=0){e("div.svithumbnails").fadeTo("fast",1)}});i.on("found_variation",function(n,m){e.each(m.attributes,function(q,p){var o=p.replace(/ /g,"").toLowerCase();if(o===""){WOOSVI.STARTS.variationLoad(true);return false}else{if(!o){o=e('select[name="'+q+'"]').val()}j=e("div.svithumbnails").find('img[data-woosvi="'+o+'"]').length;k=e("div.svithumbnails").find('img[data-woosvi="'+o+'"]').closest("a:visible").length;l=e("div.svithumbnails").find("img").closest("a:visible").length;if(j===0){return}if(k===j&&k===l){return}WOOSVI.STARTS.initRebuild(o)}})})},variationReset:function(){i.on("click",".reset_variations",function(j){WOOSVI.STARTS.initReset()})},loader:function(){if(f){WOOSVI.STARTS.prettyPhoto()}if(a){WOOSVI.STARTS.LoadLens()}}}}(jQuery.noConflict());jQuery(document).ready(function(){WOOSVI.STARTS.init()});